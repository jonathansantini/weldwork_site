<style>
  #shopify-section-{{ section.id }} {
    margin-top: {{ section.settings.marTop | times: 100 | divided_by: 1440.0 }}vw;
    margin-bottom: {{ section.settings.marBottom | times: 100 | divided_by: 1440.0 }}vw;
    {% if section.settings.backgroundImage != blank %}
    background-image: url({{ section.settings.backgroundImage | img_url: "1920x" }});
    {% elsif section.settings.backgroundImageSVG != blank %}
    background-image: url({{ section.settings.backgroundImageSVG }});
    {% endif %}
    position: relative;
    background-size: cover;
  }
  #shopify-section-{{ section.id }} .visibilityDiv {
  	padding-top: {{ section.settings.padTop | times: 100 | divided_by: 1440.0 }}vw;
    padding-bottom: {{ section.settings.padBottom | times: 100 | divided_by: 1440.0 }}vw;
  }
  #shopify-section-{{ section.id }} .textBgScroll {
    text-align: center;
    padding-left: {{ section.settings.padLeft | times: 100 | divided_by: 1440.0 }}vw;
    padding-right: {{ section.settings.padRight | times: 100 | divided_by: 1440.0 }}vw;	
  }
  @media only screen and (max-width: 1009px) {
    #shopify-section-{{ section.id }} {
      margin-top: {{ section.settings.marTopMob }}px;
      margin-bottom: {{ section.settings.marBottomMob }}px;
      {% if section.settings.backgroundImageMob != blank %}
      background-image: url({{ section.settings.backgroundImageMob | img_url: "1920x" }});
      {% elsif section.settings.backgroundImageSVGMob != blank %}
      background-image: url({{ section.settings.backgroundImageSVGMob }});
      {% endif %}
      background-size: cover;
    }
    #shopify-section-{{ section.id }} .visibilityDiv {
  	  padding-top: {{ section.settings.padTopMob }}px;
      padding-bottom: {{ section.settings.padBottomMob }}px;
      padding-left: 0;
      padding-right: 0;
    }
    #shopify-section-{{ section.id }} .textBgScroll {
      padding-left: {{ section.settings.padLeftMob }}px;
      padding-right: {{ section.settings.padRightMob }}px;
    }
  }
</style>
{% if section.settings.backgroundImage != blank %}
<img style="visibility: hidden;" src="{{ section.settings.backgroundImage | img_url: "1200x" }}" class="fullWidth visibilityDivImg">
{% elsif section.settings.backgroundImageSVG != blank %}
<img style="visibility: hidden;" src="{{ section.settings.backgroundImageSVG }}" class="fullWidth visibilityDivImg">
{% endif %}
<div class="visibilityDiv visibilityDivMob">
    {% assign padB = section.settings.padBottom %}
  {% assign padT = section.settings.padTop %}
  {% assign height = section.settings.titleSize %}
  <style>
#shopify-section-{{ section.id }} .m-scroll {
  display: flex;
  position: relative;
  width: 100vw;
  height: {{ height | times: 100 | divided_by: 1440.0 }}vw;
  margin: auto;
  background-color: {{ section.settings.backgroundColor }};
  overflow: hidden;
  z-index: 1;
  margin-bottom: {{ section.settings.titleMarBottom | times: 100 | divided_by: 1440.0 }}vw;
}
#shopify-section-{{ section.id }} .m-scroll__title {
  display: flex;
  position: absolute;
  top: 0;
  left: 0;
  align-items: center;
  justify-content: flex-start;
  width: 100%;
  height: 100%;
  white-space: nowrap;
  transform: scale(1);
  transition: all 1s ease;
}
#shopify-section-{{ section.id }} .m-scroll__title > div {
  display: flex;
  -webkit-animation: scrollText 23s infinite linear;
          animation: scrollText 23s infinite linear;
}
#shopify-section-{{ section.id }} .m-scroll__title h1 {
  margin: 0;
  transition: all 2s ease;
}
#shopify-section-{{ section.id }} .m-scroll__title a {
  text-decoration: none;
  color: white;
}
#shopify-section-{{ section.id }} .m-scroll__title a:hover {
  -webkit-text-stroke: 1px white;
  color: transparent;
}
  @media only screen and (max-width: 1009px) {
  	#shopify-section-{{ section.id }} .m-scroll {
      	height: {{ section.settings.titleLineMob }}px;
      	margin-bottom: {{ section.settings.titleMarBottomMob }}px;
    }
    #shopify-section-{{ section.id }} .m-scroll__title {
    	height: {{ section.settings.titleLineMob }}px;
    }
  }
</style>
<div class="m-scroll">
  <div class="m-scroll__title">
    <div>
      {% if section.settings.title != blank %}
            <h1 class="CCD customHeading heading-{{ section.id }}">{{ section.settings.title }}</h1>
      		{% if section.settings.image != blank %}
              <img class="img-{{ block.id }}" src="{{ section.settings.image }}">
              <style>
                .img-{{ block.id }} {
                  width: {{ section.settings.width | times: 100 | divided_by: 1440.0 }}vw;
                  margin: 2.22vw 3.46vw;
                  margin-bottom: 0;
                  }
                @media only screen and (max-width: 600px) {
                  .img-{{ block.id }} {
                      width: {{ section.settings.widthMob }}px;
                   }
                }
            </style>
            {% endif %}
            <style>
              h1.heading-{{ section.id }} {
                margin: 0; 
                letter-spacing: {{ section.settings.titleLetter }}px; 
                font-size: {{ section.settings.titleSize | times: 100 | divided_by: 1440.0 }}vw; 
                color: {{ section.settings.titleColor }}; 
                line-height: {{ section.settings.titleLine | times: 100 | divided_by: 1440.0 }}vw;
                text-align: {{ section.settings.titleAlign }};
              }
              @media only screen and (max-width: 1009px) {
                h1.heading-{{ section.id }} {
                  margin: 0; 
                  letter-spacing: {{ section.settings.titleLetterMob }}px; 
                  font-size: {{ section.settings.titleSizeMob }}px; 
                  color: {{ section.settings.titleColorMob }}; 
                  line-height: {{ section.settings.titleLineMob }}px;
                  text-align: {{ section.settings.titleAlignMob }};
                }
              }
            </style>
        {% endif %}
      {% if section.settings.title != blank %}
            <h1 class="CCD customHeading heading-{{ section.id }}">{{ section.settings.title }}</h1>
      {% if section.settings.image != blank %}
              <img class="img-{{ block.id }}" src="{{ section.settings.image }}">
      {% endif %}
      {% endif %}
    </div>
  </div>
</div>
  <div class="textBgScroll fullWidth">
    {% if section.settings.subtext != blank %}
            <p class="subtext-{{ section.id }} GT-600">
              {{ section.settings.subtext }}
      		</p>
            <style>
              .subtext-{{ section.id }} {
                margin: 0; 
                letter-spacing: {{ section.settings.subtextLetter }}px; 
                font-size: {{ section.settings.subtextSize | times: 100 | divided_by: 1440.0 }}vw; 
                color: {{ section.settings.subtextColor }}; 
                line-height: {{ section.settings.subtextLine | times: 100 | divided_by: 1440.0 }}vw;
                text-align: {{ section.settings.subtextAlign }};
                margin-bottom: {{ section.settings.subtextMarBottom | times: 100 | divided_by: 1440.0 }}vw;
              }
              @media only screen and (max-width: 1009px) {
                .subtext-{{ section.id }} {
                  margin: 0; 
                  letter-spacing: {{ section.settings.subtextLetterMob }}px; 
                  font-size: {{ section.settings.subtextSizeMob }}px; 
                  color: {{ section.settings.subtextColorMob }}; 
                  line-height: {{ section.settings.subtextLineMob }}px;
                  text-align: {{ section.settings.subtextAlignMob }};
                  margin-bottom: {{ section.settings.subtextMarBottomMob }}px;
                }
              }
            </style>
        {% endif %}
      {% if section.settings.text != blank %}
            <p class="text-{{ section.id }} GT-400">
              {{ section.settings.text }}
      		</p>
            <style>
              .text-{{ section.id }} {
                margin: 0; 
                letter-spacing: {{ section.settings.textLetter }}px; 
                font-size: {{ section.settings.textSize | times: 100 | divided_by: 1440.0 }}vw; 
                color: {{ section.settings.textColor }}; 
                line-height: {{ section.settings.textLine | times: 100 | divided_by: 1440.0 }}vw;
                text-align: {{ section.settings.textAlign }};
                margin-bottom: {{ section.settings.textMarBottom | times: 100 | divided_by: 1440.0 }}vw;
              }
              @media only screen and (max-width: 1009px) {
                .text-{{ section.id }} {
                  margin: 0; 
                  letter-spacing: {{ section.settings.textLetterMob }}px; 
                  font-size: {{ section.settings.textSizeMob }}px; 
                  color: {{ section.settings.textColorMob }}; 
                  line-height: {{ section.settings.textLineMob }}px;
                  text-align: {{ section.settings.textAlignMob }};
                  margin-bottom: {{ section.settings.textMarBottomMob }}px;
                }
              }
            </style>
        {% endif %}
  </div>
</div>
{% unless template contains 'facility' %}
<div style="background: black; padding: 50px 0; display: flex; justify-content: center;">
{% if section.settings.link != blank or section.settings.linkText != blank %}
            <div onclick="location.href='{{ section.settings.link }}'" class="buttonDiv buttonDiv-{{ section.id }}">
            <style>
              .buttonDiv-{{ section.id }} div:after {
              	content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='51' height='52' viewBox='0 0 51 52' fill='none'%3E%3Cpath d='M20.9609 32.5547L30.9765 22.5392' stroke='{{ section.settings.titleColor }}' stroke-width='2'%3E%3C/path%3E%3Cpath d='M21.7665 22.2535H31.2608V31.7478' stroke='{{ section.settings.titleColor }}' stroke-width='2'%3E%3C/path%3E%3C/svg%3E");
              }
            </style>
            <svg xmlns="http://www.w3.org/2000/svg" width="51" height="52" viewBox="0 0 51 52" fill="none">
            <path d="M20.9609 32.5547L30.9765 22.5392" stroke="{{ section.settings.titleColor }}" stroke-width="2"/>
            <path d="M21.7665 22.2535H31.2608V31.7478" stroke="{{ section.settings.titleColor }}" stroke-width="2"/>
            </svg>
            <div style="min-height: 52px; color: {{ section.settings.titleColor }};" class="GT-600">{{ section.settings.linkText }}</div>
          </div>
            {% endif %}
</div>
{% endunless %}
{% schema %}
  {
    "name": "Background scrolling text",
    "settings": [
		{
          "type": "text",
          "id": "marTop",
          "label": "Top margin (numbers only)"
        },
		{
          "type": "text",
          "id": "marBottom",
          "label": "Bottom margin (numbers only)"
        },
		{
          "type": "text",
          "id": "marTopMob",
          "label": "Top margin mobile (numbers only)"
        },
		{
          "type": "text",
          "id": "marBottomMob",
          "label": "Bottom margin mobile (numbers only)"
        },
		{
          "type": "text",
          "id": "padTop",
          "label": "Top padding (numbers only)"
        },
		{
          "type": "text",
          "id": "padBottom",
          "label": "Bottom padding (numbers only)"
        },
		{
          "type": "text",
          "id": "padLeft",
          "label": "Left padding (numbers only)"
        },
		
		{
          "type": "text",
          "id": "padRight",
          "label": "Right padding (numbers only)"
        },
		{
          "type": "text",
          "id": "padTopMob",
          "label": "Top padding mobile (numbers only)"
        },
		{
          "type": "text",
          "id": "padBottomMob",
          "label": "Bottom padding mobile (numbers only)"
        },
		{
          "type": "text",
          "id": "padLeftMob",
          "label": "Left padding mobile (numbers only)"
        },
		{
          "type": "text",
          "id": "padRightMob",
          "label": "Right padding mobile (numbers only)"
        },
        {
          "type": "image_picker",
          "id": "backgroundImage",
          "label": "Background image"
        },
		{
          "type": "text",
          "id": "backgroundImageSVG",
          "label": "Background image SVG"
        },
        {
          "type": "image_picker",
          "id": "backgroundImageMob",
          "label": "Background image mobile"
        },
		{
          "type": "text",
          "id": "backgroundImageSVGMob",
          "label": "Background image SVG mobile"
        },
		{
          "type": "header",
          "content": "Title Desktop"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Heading"
        },
		{
          "type": "text",
          "id": "titleSize",
          "label": "Heading Size (numbers only)"
        },
		{
          "type": "text",
          "id": "titleLine",
          "label": "Heading Line Height (numbers only)"
        },
		{
          "type": "text",
          "id": "titleLetter",
          "label": "Heading Letter Spacing (numbers only)"
        },
		{
          "type": "color",
          "id": "titleColor",
          "label": "Heading color"
        },
		{
          "type": "select",
          "id": "titleAlign",
          "label": "Title align",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "center"
        },
		{
          "type": "text",
          "id": "titleMarBottom",
          "label": "Title bottom margin (numbers only)"
        },
        {
          "type": "header",
          "content": "Title Mobile"
        },
		{
          "type": "text",
          "id": "titleSizeMob",
          "label": "Heading Size (numbers only)"
        },
		{
          "type": "text",
          "id": "titleLineMob",
          "label": "Heading Line Height (numbers only)"
        },
		{
          "type": "text",
          "id": "titleLetterMob",
          "label": "Heading Letter Spacing (numbers only)"
        },
		{
          "type": "color",
          "id": "titleColorMob",
          "label": "Heading color"
        },
		{
          "type": "select",
          "id": "titleAlignMob",
          "label": "Title align",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "center"
        },
		{
          "type": "text",
          "id": "titleMarBottomMob",
          "label": "Title bottom margin mobile (numbers only)"
        },
		{
          "type": "text",
          "id": "image",
          "label": "Image"
        },
        {
            "type": "text",
            "id": "width",
            "label": "Image width (numbers only)"
        },
        {
            "type": "text",
            "id": "widthMob",
            "label": "Image width (Mobile numbers only)"
        },
		{
          "type": "header",
          "content": "Subtitle Desktop"
        },
        {
          "type": "text",
          "id": "subtext",
          "label": "Subtitle"
        },
		{
          "type": "text",
          "id": "subtextSize",
          "label": "Subtitle Size (numbers only)"
        },
		{
          "type": "text",
          "id": "subtextLine",
          "label": "Subtitle Line Height (numbers only)"
        },
		{
          "type": "text",
          "id": "subtextLetter",
          "label": "Subtitle Letter Spacing (numbers only)"
        },
		{
          "type": "color",
          "id": "subtextColor",
          "label": "Subtitle color"
        },
		{
          "type": "select",
          "id": "subtextAlign",
          "label": "Subtitle align",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "center"
        },
		{
          "type": "text",
          "id": "subtextMarBottom",
          "label": "Subtitle bottom margin (numbers only)"
        },
        {
          "type": "header",
          "content": "Subtitle Mobile"
        },
		{
          "type": "text",
          "id": "subtextSizeMob",
          "label": "Subtitle Size (numbers only)"
        },
		{
          "type": "text",
          "id": "subtextLineMob",
          "label": "Subtitle Line Height (numbers only)"
        },
		{
          "type": "text",
          "id": "subtextLetterMob",
          "label": "Subtitle Letter Spacing (numbers only)"
        },
		{
          "type": "color",
          "id": "subtextColorMob",
          "label": "Subtitle color"
        },
		{
          "type": "select",
          "id": "subtextAlignMob",
          "label": "Subtitle align",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "center"
        },
		{
          "type": "text",
          "id": "subtextMarBottomMob",
          "label": "Subtitle mobile bottom margin (numbers only)"
        },
		{
          "type": "header",
          "content": "Text Desktop"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Text",
          "default": "Slide title"
        },
		{
          "type": "text",
          "id": "textSize",
          "label": "Text Size (numbers only)"
        },
		{
          "type": "text",
          "id": "textLine",
          "label": "Text Line Height (numbers only)"
        },
		{
          "type": "text",
          "id": "textLetter",
          "label": "Text Letter Spacing (numbers only)"
        },
		{
          "type": "color",
          "id": "textColor",
          "label": "Text color"
        },
		{
          "type": "select",
          "id": "textAlign",
          "label": "Text align",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "center"
        },
		{
          "type": "text",
          "id": "textMarBottom",
          "label": "Text bottom margin (numbers only)"
        },
        {
          "type": "header",
          "content": "Text Mobile"
        },
		{
          "type": "text",
          "id": "textSizeMob",
          "label": "Text Size (numbers only)"
        },
		{
          "type": "text",
          "id": "textLineMob",
          "label": "Text Line Height (numbers only)"
        },
		{
          "type": "text",
          "id": "textLetterMob",
          "label": "Text Letter Spacing (numbers only)"
        },
		{
          "type": "color",
          "id": "textColorMob",
          "label": "Text color"
        },
		{
          "type": "select",
          "id": "textAlignMob",
          "label": "Text align",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "center"
        },
		{
          "type": "text",
          "id": "textMarBottomMob",
          "label": "Text mobile bottom margin (numbers only)"
        },
		{
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "text",
          "id": "linkText",
          "label": "Link text"
        }
	],
    "presets": [
      {
        "category": "Portfolio",
        "name": "Background with scrolling text",
        "settings": {}
      }
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
